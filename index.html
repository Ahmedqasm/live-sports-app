<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live TV Player</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        body { background: #000; color: #fff; text-align: center; font-family: sans-serif; margin: 0; }
        .video-container { width: 100%; max-width: 800px; margin: auto; position: sticky; top: 0; background: #000; }
        video { width: 100%; aspect-ratio: 16/9; box-shadow: 0 0 20px rgba(0,255,0,0.2); }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; padding: 20px; }
        button { background: #1a1a1a; color: #00ff00; border: 1px solid #00ff00; padding: 15px 5px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #00ff00; color: #000; }
    </style>
</head>
<body>

<div class="video-container">
    <video id="video" controls playsinline></video>
</div>

<h3>قنوات IPTV Editor</h3>

<div class="grid">
    <button onclick="play('http://xapi-ie.org:8080/joker10/joker1995/1.m3u8')">القناة 1</button>
    <button onclick="play('http://xapi-ie.org:8080/joker10/joker1995/2.m3u8')">القناة 2</button>
</div>

<script>
    var video = document.getElementById('video');
    var hls = new Hls();

    function play(url) {
        // فحص إذا كان الرابط يعمل بـ HTTP والموقع بـ HTTPS
        if (location.protocol === 'https:' && url.startsWith('http:')) {
            alert("تنبيه: أنت تحاول تشغيل رابط HTTP على موقع آمن. إذا لم يشتغل البث، يرجى فتح الموقع باستخدام http بدلاً من https");
        }

        if (Hls.isSupported()) {
            hls.loadSource(url);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                video.play();
            });
        }
    }
</script>
</body>
</html>
